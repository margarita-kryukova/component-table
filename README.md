## Функциональный React-компонент "Таблица"

Проект реализует универсальный компонент таблицы с возможностью:
- выделения строки,
- обработки клика по строке,
- **добавления, редактирования и удаления записей** прямо из таблицы,
- **пользовательской валидации полей** при добавлении или редактировании.

В проект также входит серверная часть на **Express** для хранения и изменения данных через API.

---

## Возможности

- Универсальная таблица для произвольных структур данных (вы сами задаёте список колонок и источник данных).
- Подсветка выбранной строки.
- Обработка клика по строке.
- Редактирование, удаление и добавление строк через интуитивный интерфейс.
- **Гибкая валидация значений в столбцах** с помощью свойства `validate` в описании колонки.
- Сохранение изменений на сервере через API (Express).
- Реализовано с помощью функциональных React-компонентов и хуков.

---

## columns — расширенная конфигурация

Каждая колонка (`columns`) может содержать:

| Ключ      | Тип                                 | Описание                                                                              |
|-----------|-------------------------------------|---------------------------------------------------------------------------------------|
| `key`     | `string`                            | Ключ поля (имя свойства-колонки в объекте данных)                                     |
| `title`   | `string`                            | Заголовок столбца                                                                     |
| `validate`| `(value, row) => string\|undefined` | (опционально) функция проверки значения. Возвращает строку ошибки, если невалидно      |

**Пример с валидацией:**
```js
const columns = [
  {
    key: 'name', 
    title: 'Имя',
    validate: value =>
      !value || value.length < 2 ? 'Имя должно быть не короче 2 символов' : undefined
  },
  {
    key: 'email',
    title: 'E-mail',
    validate: value =>
      !value?.includes('@') ? 'Некорректный email' : undefined
  }
];
```
Если функция `validate` вернёт строку — ошибка будет показана пользователю при добавлении или редактировании.

---

## Пример использования

```jsx
import Table from './Table';

const columns = [
  { key: 'id', title: 'ID' },
  { key: 'name', title: 'Имя', validate: value => !value ? "Имя обязательно" : undefined },
  { key: 'email', title: 'E-mail', validate: value => !value?.includes('@') ? "Некорректный email" : undefined }
];

const data = [
  { id: 1, name: 'Иван', email: 'ivan@example.com' },
  { id: 2, name: 'Мария', email: 'maria@example.com' },
  { id: 3, name: 'Петр', email: 'peter@example.com' }
];

function handleRowClick(record) {
  alert('Вы выбрали строку: ' + JSON.stringify(record));
}

function App() {
  return (
    <Table
      columns={columns}
      data={data}
      onClickRow={handleRowClick}
      // и другие обработчики, если нужно
    />
  );
}

export default App;
```

---

## Пропсы компонента Table

| Проп           | Тип                              | Описание                                                                 |
|----------------|----------------------------------|--------------------------------------------------------------------------|
| `columns`      | `Array<Object>`                  | Массив колонок (`key`, `title`, опционально `validate`)                  |
| `data`         | `Array<Object>`                  | Массив строк-объектов                                                    |
| `onClickRow`   | `Function(record)`               | Обработчик клика по строке (получает объект записи)                      |
| `onEditRecord` | `(id, newRow) => void`           | (опционально) Обновить запись                                            |
| `onDeleteRecord` | `(id) => void`                 | (опционально) Удалить запись                                             |
| `onAddRecord`    | `(row) => void`                | (опционально) Добавить запись                                            |

---

## Как запустить

### 1. Сервер (Express API)
1. Выполните команду:
   ```sh
   npm run start-server
   ```
2. По умолчанию сервер слушает порт `4000`.
3. Сервер предоставляет полноценный API для чтения, изменения, удаления и добавления записей.

### 2. Клиент (React-приложение)
1. Выполните команду:
    ```sh
    npm run start
    ```
2. Откройте [http://localhost:3000](http://localhost:3000).

---

## Внешний вид
- Таблица выделяет выбранную строку изменением цвета фона.
- Редактирование, добавление, удаление — удобные иконки/кнопки справа от строки.
- Добавление — кнопка справа под таблицей.  
- Ошибки валидации (при редактировании/добалении) отображаются рядом с соответствующими полями.
- Интерфейс минималистичен и интуитивно понятен.
<img width="1139" alt="image" src="https://github.com/user-attachments/assets/ee1ab06d-c628-44d6-9b91-a85cf8abdb6b" />


---

## Автор
[Мargarita Kryukova](https://github.com/margarita-kryukova)

---

_Тестовое задание: функциональный редактируемый компонент React-таблицы с серверной поддержкой на Express._
