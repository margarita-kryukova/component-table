## Функциональный React-компонент "Таблица"

Проект реализует универсальный компонент таблицы с возможностью:
- выделения строки,
- обработки клика по строке,
- **добавления, редактирования и удаления записей** прямо из таблицы,
- **пользовательской валидации полей** при добавлении или редактировании.

В проект также входит серверная часть на **Express** для хранения и изменения данных через API.

---

## Особенности реализации

- **TypeScript-дженерики и универсальные типы**  
  Компонент таблицы написан как полностью универсальный и типобезопасный:  
  - Поддерживает любые типы строк данных через дженерик `<T>`.
  - Пропсы компонента (`data`, `columns`, обработчики) автоматически типизируются относительно вашего выбранного типа записи `T`.
  - Это позволяет использовать таблицу для любых данных, с автокомплитом и защитой типов во всём проекте.
- **Полное делегирование событий:**  
  Вся обработка кликов, выделения строк, а также работы с кнопками управления (редактировать, удалить, сохранить и т.д.) реализована через делегирование событий на уровне контейнера таблицы (`<tbody>`). Это обеспечивает устойчивость и производительность при работе с большим количеством строк и позволяет избежать дублирования обработчиков на каждую строку.

---

## Возможности

- Универсальная таблица для произвольных структур данных (вы сами задаёте список колонок и источник данных).
- Подсветка выбранной строки.
- Обработка клика по строке.
- Редактирование, удаление и добавление строк через интуитивный интерфейс.
- **Гибкая валидация значений в столбцах** с помощью свойства `validate` в описании колонки.
- Сохранение изменений на сервере через API (Express).
- Реализовано с помощью функциональных React-компонентов и хуков.
- **Делегирование событий на уровне таблицы** — никаких обработчиков на отдельных строках.

---

## columns — расширенная конфигурация

Каждая колонка (`columns`) может содержать:

| Ключ      | Тип                                 | Описание                                                                         |
|-----------|-------------------------------------|----------------------------------------------------------------------------------|
| `key`     | `keyof T`                                               | Ключ поля (имя свойства-колонки в объекте данных)            |
| `title`   | `string`                                                | Заголовок столбца                                            |
| `validate`| `(value: any, record: Partial<T>) => string | undefined`| (опционально) функция проверки значения.                     |

**Пример с валидацией:**
```js
const columns = [
  {
    key: 'name', 
    title: 'Имя',
    validate: value =>
      !value || value.length < 2 ? 'Имя должно быть не короче 2 символов' : undefined
  },
  {
    key: 'email',
    title: 'E-mail',
    validate: value =>
      !value?.includes('@') ? 'Некорректный email' : undefined
  }
];
```
Если функция `validate` вернёт строку — ошибка будет показана пользователю при добавлении или редактировании.

---

## Пример использования

```jsx
import Table from './Table';

const columns = [
  { key: 'id', title: 'ID' },
  { key: 'name', title: 'Имя', validate: value => !value ? "Имя обязательно" : undefined },
  { key: 'email', title: 'E-mail', validate: value => !value?.includes('@') ? "Некорректный email" : undefined }
];

const data = [
  { id: 1, name: 'Иван', email: 'ivan@example.com' },
  { id: 2, name: 'Мария', email: 'maria@example.com' },
  { id: 3, name: 'Петр', email: 'peter@example.com' }
];

function handleRowClick(record) {
  alert('Вы выбрали строку: ' + JSON.stringify(record));
}

function App() {
  return (
    <Table
      columns={columns}
      data={data}
      onClickRow={handleRowClick}
      // и другие обработчики, если нужно
    />
  );
}

export default App;
```

---

## Пропсы компонента Table

| Проп             | Тип                                         | Описание                                                            |
|------------------|---------------------------------------------|---------------------------------------------------------------------|
| `columns`        | `ITableColumn<T>[]`                         | Массив колонок (`key`, `title`, опционально `validate`)             |
| `data`           | `T[]`                                       | Массив строк-объектов                                               |
| `onClickRow`     | `(record: T) => void`                       | Обработчик клика по строке (получает объект записи)                 |
| `onEditRecord`   | `(id: number, body: Partial<T>) => void`    | (опционально) Обновить запись                                       |
| `onDeleteRecord` | `(id: number) => void`                      | (опционально) Удалить запись                                        |
| `onAddRecord`    | `(record: Partial<T>) => void`              | (опционально) Добавить запись                                       |

---

## Как запустить

### 1. Сервер (Express API)
1. Выполните команду:
   ```sh
   npm run start-server
   ```
2. По умолчанию сервер слушает порт `4000`.
3. Сервер предоставляет полноценный API для чтения, изменения, удаления и добавления записей.

### 2. Клиент (React-приложение)
1. Выполните команду:
    ```sh
    npm run start
    ```
2. Откройте [http://localhost:3000](http://localhost:3000).

---

## Внешний вид
- Таблица выделяет выбранную строку изменением цвета фона.
- Редактирование, добавление, удаление — удобные иконки/кнопки справа от строки.
- Добавление — кнопка справа под таблицей.  
- Ошибки валидации (при редактировании/добалении) отображаются рядом с соответствующими полями.
- Интерфейс минималистичен и интуитивно понятен.
<img width="1139" alt="image" src="https://github.com/user-attachments/assets/ee1ab06d-c628-44d6-9b91-a85cf8abdb6b" />


---

## Автор
[Мargarita Kryukova](https://github.com/margarita-kryukova)

---

_Тестовое задание: функциональный редактируемый компонент React-таблицы с серверной поддержкой на Express._
